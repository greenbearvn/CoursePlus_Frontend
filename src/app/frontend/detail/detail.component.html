<div class="main_content mt-5">
  <lib-toastify-toast-container></lib-toastify-toast-container>
  <div class="container p-0">
    <div
      class="bg-blue-600 md:rounded-b-lg md:-mt-8 md:pb-8 md:pt-12 p-8 relative overflow-hidden"
      style="background: #1877f2"
    >
      <div class="lg:w-9/12 relative z-10">
        <div class="uppercase text-gray-200 mb-2 font-semibold text-sm">
          {{ course.detailCate.detailCateName }}
        </div>
        <h1
          class="lg:leading-10 lg:text-3xl text-white text-2xl leading-8 font-semibold"
        >
          {{ course.courses.courseName }}
        </h1>
        <p class="lg:text-lg hidden">
          {{ course.courses.shortDes }}
        </p>
        <ul class="flex text-gray-200 gap-4 mt-4 mb-2">
          <li>
            <!-- <ion-icon name="people-circle-outline"></ion-icon>  -->

            <s>{{ course.courses.oldPrice | currency : "VND" }} </s>
          </li>
          <li class="flex items-center">
            <span
              class="avg bg-red-500 mr-2 px-2 rounded text-white font-semiold"
            >
              {{ course.courses.percentSale }} %
            </span>
          </li>

          <li>
            <!-- <ion-icon name="people-circle-outline"></ion-icon>  -->

            {{ course.courses.newPrice | currency : "VND" }}
          </li>
        </ul>
        <ul class="lg:flex items-center text-gray-200">
          <li>
            Được tạo bởi
            <a
              href="#"
              class="text-white fond-bold hover:underline hover:text-white"
            >
              {{ course.profile.profileName }}
            </a>
          </li>
          <li><span class="lg:block hidden mx-3 text-2xl">·</span></li>
          <li>{{ course.courses.timePublished | date : "dd/MM/yyyy" }}</li>
        </ul>
      </div>
      <img
        src="../../courseplus/assets/images/courses/course-intro.png"
        alt=""
        class="-bottom-1/2 absolute right-0 hidden lg:block"
      />
    </div>
    <div class="lg:flex lg:space-x-4 mt-4">
      <div class="lg:w-8/12 space-y-4">
        <div
          class="tube-card z-20 mb-4 overflow-hidden uk-sticky"
          uk-sticky="cls-active:rounded-none ; media: 992 ; offset:70"
        >
          <nav class="cd-secondary-nav extanded ppercase nav-small">
            <ul class="space-x-3" uk-scrollspy-nav="closest: li; scroll: true">
              <li><a href="#Overview" uk-scroll>Tổng Quan</a></li>
              <li><a href="#curriculum" uk-scroll>Mục Lục</a></li>
              <li><a href="#tests" uk-scroll>Bài Test</a></li>
              <li><a href="#announcement">Giảng Viên</a></li>
              <li><a href="#reviews">Bình Luận</a></li>
            </ul>
          </nav>
        </div>
        <!-- course description -->
        <div class="tube-card p-6" id="Overview">
          <div class="space-y-7">
            <div>
              <h3 class="text-lg font-semibold mb-3">Mô tả</h3>
              <p>
                Khóa học "Phát triển kỹ năng lãnh đạo hiệu quả" sẽ giúp học viên
                nắm bắt được những nguyên tắc cơ bản và kỹ năng cần thiết để trở
                thành một lãnh đạo hiệu quả. Trong khóa học này, chúng tôi sẽ
                tập trung vào việc phát triển khả năng quản lý thời gian, giao
                tiếp hiệu quả, định hướng và truyền cảm hứng cho đội nhóm.
              </p>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-3">Bạn sẽ được học:</h3>
              <ul class="grid md:grid-cols-2">
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Kiến thức
                  chuyên môn
                </li>
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Kỹ năng mềm
                </li>
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Tư duy logic
                </li>
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Thiết kế
                  Website
                </li>
                <!-- <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Understand
                  HTML Programming
                </li>
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Code HTML
                </li>
                <li>
                  <i class="uil-check text-xl font-bold mr-2"></i>Start building
                  beautiful websites
                </li> -->
              </ul>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-3">Cần thiết</h3>
              <ul class="list-disc ml-5 space-y-1 mt-3">
                <li>Có kiến thức về Window, Linux</li>
                <li>Hiểu biết cơ bản về HTML, CSS.</li>
                <li>Hiểu biết cơ bản về JavaScript</li>
              </ul>
            </div>
            <div>
              <h3 class="font-medium text-lg mb-2">
                Đây chính xác là những gì chúng tôi đề cập trong khóa học này:
              </h3>
              <p>
                Khóa học lập trình là một chương trình đào tạo chuyên sâu về
                việc học và áp dụng các ngôn ngữ lập trình, công cụ và kỹ năng
                cần thiết để xây dựng và phát triển ứng dụng máy tính. Trong
                khóa học này, bạn sẽ được hướng dẫn từ những khái niệm cơ bản
                cho đến những kỹ thuật phức tạp hơn, như tạo ra các chương trình
                ứng dụng, phân tích và giải quyết vấn đề, thiết kế giao diện
                người dùng và tương tác với cơ sở dữ liệu. Khóa học sẽ tập trung
                vào việc học các ngôn ngữ lập trình phổ biến như C++, Java và
                Python, và giúp bạn hiểu rõ về cú pháp, cấu trúc và logic lập
                trình. Bạn sẽ có cơ hội thực hành thông qua các bài tập và dự án
                thực tế, từ việc viết mã đơn giản cho đến phát triển ứng dụng
                phức tạp. Ngoài ra, khóa học cũng sẽ giới thiệu về các khái niệm
                quan trọng như thuật toán, cấu trúc dữ liệu, testing và
                debugging, và các nguyên tắc thiết kế phần mềm. Bạn sẽ được
                hướng dẫn bởi các chuyên gia lập trình có kinh nghiệm, và có cơ
                hội học hỏi và trao đổi với các đồng học viên khác. Tham gia
                khóa học lập trình, bạn sẽ trang bị cho mình những kỹ năng quan
                trọng và mở ra cánh cửa cho sự phát triển và thành công trong
                lĩnh vực công nghệ thông tin và phát triển phần mềm.
              </p>
            </div>
          </div>
        </div>
        <!-- course Curriculum -->
        <div id="curriculum">
          <h3 class="mb-4 text-xl font-semibold">Danh sách bài học</h3>
          <ul
            uk-accordion="multiple: true"
            class="tube-card p-4 divide-y space-y-3"
          >
            <li
              [className]="isFirst ? 'uk-open' : 'pt-2'"
              *ngFor="let lesson of lessions; index as i; first as isFirst"
            >
              <a class="uk-accordion-title text-md mx-2 font-semibold" href="#">
                <div class="mb-1 text-sm font-medium">Bài {{ i + 1 }}</div>
                {{ lesson.lessionName }}</a
              >
              <div class="uk-accordion-content mt-3 text-base">
                <ul class="course-curriculum-list font-medium">
                  <ng-container *ngFor="let video of videos">
                    <li
                      class="hover:bg-gray-200 p-2 flex rounded"
                      *ngIf="video.lessionId === lesson.lessionId"
                    >
                      <div *ngIf="video.lessionId === lesson.lessionId">
                        <a
                          [routerLink]="[
                            '/course/watching/detail/' +
                              course.courses.courseId +
                              '/' +
                              video.videoId
                          ]"
                        >
                          {{ video.videoName }}
                        </a>

                        <span class="text-sm ml-auto">
                          {{ video.videoDuration }}
                        </span>
                      </div>
                    </li>
                  </ng-container>
                </ul>
              </div>
            </li>
          </ul>
          <!-- <ul>
            <li *ngFor="let lession of lessions; index as i; first as isFirst">
                <a>
                  {{ lession[0].lessionName }}
                </a>
                <div>
                    <ul>
                      <li *ngFor="let video of videos">
                          <a *ngIf="video.lessionId === lession.lessionId">
                            <div>
                              {{ video[0].videoName }}
                            </div>
                        </a>
                      </li>
                    </ul>
                </div>
            </li>
          </ul> -->
        </div>
        <div id="tets">
          <h3 class="mb-4 text-xl font-semibold">Các bài kiểm tra thực hành</h3>
          <div class="tube-card p-4 divide-y space-y-3">
            <a
              [routerLink]="['/video/test/' + test.testId]"
              *ngFor="let test of tests"
            >
              <div class="flex items-center px-5 py-3">{{ test.testName }}</div>
            </a>
          </div>
        </div>
        <!-- course Faq -->

        <!-- course Announcement -->
        <div id="announcement" class="tube-card p-5">
          <h3 class="text-base font-semibold mb-3">Giảng Viên</h3>
          <a [routerLink]="['/profile', teacher.profileId]">
            <div class="flex items-center gap-x-4 mb-5">
              <img
                [src]="teacher.profileName"
                alt=""
                class="rounded-full shadow w-12 h-12"
              />
              <div>
                <h4 class="-mb-1 text-base">{{ teacher.profileName }}</h4>
                <span class="text-sm">
                  <span class="text-gray-500"> {{ teacher.avatar }} </span>
                </span>
              </div>
            </div>
          </a>

          <p [innerHTML]="teacher.desciption">
            Khóa học lập trình là một chương trình đào tạo chuyên sâu về việc
            học và áp dụng các ngôn ngữ lập trình, công cụ và kỹ năng cần thiết
            để xây dựng và phát triển ứng dụng máy tính. Trong khóa học này, bạn
            sẽ được hướng dẫn từ những khái niệm cơ bản cho đến những kỹ thuật
            phức tạp hơn, như tạo ra các chương trình ứng dụng, phân tích và
            giải quyết vấn đề, thiết kế giao diện người dùng và tương tác với cơ
            sở dữ liệu. Khóa học sẽ tập trung vào việc học các ngôn ngữ lập
            trình phổ biến như C++, Java và Python, và giúp bạn hiểu rõ về cú
            pháp, cấu trúc và logic lập trình. Bạn sẽ có cơ hội thực hành thông
            qua các bài tập và dự án thực tế, từ việc viết mã đơn giản cho đến
            phát triển ứng dụng phức tạp. Ngoài ra, khóa học cũng sẽ giới thiệu
            về các khái niệm quan trọng như thuật toán, cấu trúc dữ liệu,
            testing và debugging, và các nguyên tắc thiết kế phần mềm. Bạn sẽ
            được hướng dẫn bởi các chuyên gia lập trình có kinh nghiệm, và có cơ
            hội học hỏi và trao đổi với các đồng học viên khác. Tham gia khóa
            học lập trình, bạn sẽ trang bị cho mình những kỹ năng quan trọng và
            mở ra cánh cửa cho sự phát triển và thành công trong lĩnh vực công
            nghệ thông tin và phát triển phần mềm.
          </p>
        </div>
        <!-- course Reviews -->

        <app-comment [MaKhoaHoc]="id"></app-comment>
      </div>
      <!-- course intro Sidebar -->
      <div class="lg:w-4/12 space-y-4 lg:mt-0 mt-4">
        <div uk-sticky="top:600;offset:; offset:90 ; media: 1024">
          <div
            class="tube-card p-5"
            uk-sticky="top:600;offset:; offset:90 ; media: @s"
          >
            <div class="grid grid-cols-2 gap-4">
              <div class="flex flex-col space-y-2">
                <div class="text-3xl font-semibold">3.2</div>
                <div>Giờ</div>
                <!-- <ion-icon name="time" class="text-lg" hidden></ion-icon> -->
              </div>
              <div class="flex flex-col space-y-2">
                <div class="text-3xl font-semibold">12,140</div>
                <div>Học viên</div>
                <!-- <ion-icon name="people-circle" class="text-lg" hidden></ion-icon> -->
              </div>
            </div>
            <hr class="-mx-5 border-gray-200 my-4" />
            <h4 hidden>KHÓA HỌC BAO GỒM</h4>
            <div class="-m-5 divide-y divide-gray-200 text-sm">
              <div class="flex items-center px-5 py-3">
                <!-- <ion-icon name="play-outline" class="text-2xl mr-2"></ion-icon>  -->
                Video theo yêu cầu 13 giờ
              </div>
              <div class="flex items-center px-5 py-3">
                <!-- <ion-icon name="key-outline" class="text-2xl mr-2"></ion-icon>  -->
                Quyền truy cập trọn đời
              </div>
              <div class="flex items-center px-5 py-3">
                <!-- <ion-icon name="download-outline" class="text-2xl mr-2"></ion-icon>  -->
                42 tài nguyên có thể tải xuống
              </div>
              <div class="flex items-center px-5 py-3">
                <!-- <ion-icon name="help-circle-outline" class="text-2xl mr-2"></ion-icon> -->
                Bài tập
              </div>
              <div class="flex items-center px-5 py-3">
                <!-- <ion-icon name="medal-outline" class="text-2xl mr-2"></ion-icon> -->
                Các chứng chỉ
              </div>
            </div>
          </div>

          <a
            class="flex items-center justify-center h-20 px-6 rounded-md bg-red-600 text-white"
            (click)="addCart()"
            style="cursor: pointer"
            *ngIf="detailCollection == null"
          >
            <div
              class=""
              style="
                background-color: #1877f2;
                padding: 1.5rem;
                margin-top: 10px;
                border-radius: 10px;
              "
            >
              Mua Ngay
            </div>
          </a>
          <a
            class="flex items-center justify-center h-20 px-6 rounded-md bg-red-600 text-white"
            style="cursor: pointer"
            *ngIf="detailCollection != null"
            (click)="
              navigateToWatching(course.courses.courseId, videos[0].videoId)
            "
          >
            <div
              class=""
              style="
                background-color: #1877f2;
                padding: 1.5rem;
                margin-top: 10px;
                border-radius: 10px;
              "
            >
              Bắt đầu học
            </div>
          </a>
        </div>
        <div class="tube-card p-5">
          <div class="flex items-start justify-between">
            <div>
              <h4 class="text-lg -mb-0.5 font-semibold">Đề xuất khóa học</h4>
            </div>
            <a href="#" class="text-blue-600">
              <!-- <ion-icon name="refresh" class="-mt-0.5 -mr-2 hover:bg-gray-100 p-1.5 rounded-full text-lg"></ion-icon>  -->
            </a>
          </div>
          <div class="p-1">
            <a
              class="-mx-3 block hover:bg-gray-100 p-2 rounded-md"
              *ngFor="let recommend of recommends"
              [routerLink]="['/detail', recommend.id]"
            >
              <div class="flex items-center space-x-3">
                <img
                  [src]="recommend.AnhKhoaHoc"
                  alt=""
                  class="h-12 object-cover rounded-md w-12"
                />
                <div class="line-clamp-2 text-sm font-medium">
                  {{ recommend.TenKhoaHoc }}
                </div>
              </div>
            </a>
          </div>
          <!-- <a
            href="#"
            class="hover:bg-gray-100 -mb-1.5 mt-0.5 h-8 flex items-center justify-center rounded-md text-blue-400 text-sm"
          >
             H
          </a> -->
        </div>
      </div>
    </div>
  </div>
</div>
